<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Data Entry Pro Suite — Demo & Unlock</title>

  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="style.css" />

  <!-- External libs (for charts, invoices) -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>

  <!-- ========== WELCOME SCREEN ========== -->
  <main id="root" class="container">
    <section id="welcome" class="card">
      <h1>Data Entry Pro Suite</h1>
      <p class="muted">Created by Jane Emmanuel — Pastel Pink Edition</p>

      <div class="form-row">
        <input id="businessName" placeholder="Enter your name or business name" />
        <div class="row-buttons">
          <button id="enterBtn" class="btn primary">Enter Dashboard</button>
          <button id="demoBtn" class="btn">Watch Demo</button>
        </div>
        <p class="tip">Tip: after watching demo you can unlock the full app for just <strong>$1 / ₦1000</strong> — cheaper than coffee ☕</p>
      </div>
    </section>

    <!-- ========== DASHBOARD SCREEN ========== -->
    <section id="dashboard" class="card hidden">
      <header class="topbar">
        <div>
          <h2 id="greeting">👋 Welcome!</h2>
          <p class="muted">Offline toolkit — Expenses, Inventory, Invoices, CRM & KPI</p>
        </div>
        <div class="top-actions">
          <button id="unlockBtn" class="btn">Unlock</button>
          <button id="logout" class="btn">Logout</button>
        </div>
      </header>

      <section class="cards" id="cardsArea">
        <div class="card tool" data-mod="dataentry">🗂️ Data Entry Tracker<br/><small class="muted">Input & report</small></div>
        <div class="card tool" data-mod="expenses">💰 Expense Tracker<br/><small class="muted">Income & expenses</small></div>
        <div class="card tool" data-mod="inventory">📦 Inventory Manager<br/><small class="muted">Stock & low alerts</small></div>
        <div class="card tool" data-mod="invoice">🧾 Invoice Generator<br/><small class="muted">Create & download</small></div>
        <div class="card tool" data-mod="crm">👥 Customer CRM<br/><small class="muted">Clients & notes</small></div>
        <div class="card tool" data-mod="kpi">📈 KPI Dashboard<br/><small class="muted">Sales & growth</small></div>
      </section>

      <div id="toolArea" style="margin-top:18px"></div>
      <footer class="footer">Created by Jane Emmanuel</footer>
    </section>
  </main>

  <!-- ========== PAYWALL ========== -->
  <div id="paywall" class="overlay hidden">
    <div class="paywall-box">
      <h3>✨ Unlock Data Entry Pro — Lifetime Access</h3>
      <p class="muted">Just $1 or ₦1000 — cheaper than coffee ☕</p>

      <div class="device-box">
        <div class="small muted">Your Device ID</div>
        <div id="deviceId" class="device-id">XXXXXX</div>
      </div>

      <a id="selarBtn" class="btn primary" href="https://selar.com/showlove/jane-emmanuel" target="_blank" rel="noopener">💳 Pay on Selar</a>

      <p class="muted small" style="margin-top:10px">
        Can't pay via Selar? <a href="https://wa.me/2348108179570" target="_blank" rel="noopener">Chat with us on WhatsApp</a> for alternate payment options.
      </p>

      <div class="password-section">
        <input id="accessPassword" placeholder="Enter password you received after payment" />
        <div style="display:flex;gap:8px;margin-top:8px;justify-content:center">
          <button id="verifyPassword" class="btn">Verify Code</button>
          <button id="closePaywall" class="btn">Close</button>
        </div>
        <p id="passwordMessage" class="muted small"></p>
      </div>
    </div>
  </div>

  <!-- DEMO OVERLAY (injected dynamically) -->
  <audio id="audioClick" preload="auto"></audio>
  <audio id="audioChime" preload="auto"></audio>

  <!-- ========== MAIN SCRIPTS ========== -->
  <script src="script.js"></script>

  <!-- ========== DEMO SEQUENCE LOGIC ========== -->
  <script>
  // ================================
  // Data Entry Pro Suite - Auto Demo
  // ================================

  const demoModules = [
    { name: "💰 Expense Tracker", file: "expense.html" },
    { name: "📦 Inventory Manager", file: "inventory.html" },
    { name: "🧾 Invoice Generator", file: "invoice.html" },
    { name: "👥 Customer CRM", file: "crm.html" },
    { name: "📈 Business KPI", file: "kpi.html" },
    { name: "🗂️ Data Entry Tracker", file: "dataentry.html" },
  ];

  const DEMO_DURATION = 7000;
  const clickSound = new Audio("sounds/click.mp3");
  const chimeSound = new Audio("sounds/chime.mp3");

  document.getElementById("demoBtn").addEventListener("click", startDemo);

  function startDemo() {
    const demoOverlay = document.createElement("div");
    demoOverlay.id = "demoOverlay";
    demoOverlay.innerHTML = `
      <div class="demoBox fade-in">
        <h2>👋 Welcome!</h2>
        <p>Watch how <b>Data Entry Pro Suite</b> makes business fun & easy ✨</p>
        <p class="demoTip">Sit tight — quick 45-second tour starting...</p>
      </div>
    `;
    document.body.appendChild(demoOverlay);

    let i = 0;
    setTimeout(runNextDemo, 2000);

    function runNextDemo() {
      if (i >= demoModules.length) {
        finishDemo();
        return;
      }

      const module = demoModules[i];
      clickSound.play();

      demoOverlay.querySelector(".demoBox").innerHTML = `
        <h2>${module.name}</h2>
        <p>Auto-filling sample data for ${module.name.split(" ")[1]}...</p>
      `;

      fetch(`modules/${module.file}`)
        .then(res => res.text())
        .then(html => {
          const view = document.getElementById("toolArea");
          view.innerHTML = html;
          view.classList.remove("hidden");
          fakeTyping(view);
          chimeSound.play();
        });

      i++;
      setTimeout(runNextDemo, DEMO_DURATION);
    }
  }

  function fakeTyping(view) {
    const tds = view.querySelectorAll("td");
    let idx = 0;
    const interval = setInterval(() => {
      if (idx >= tds.length) {
        clearInterval(interval);
        return;
      }
      tds[idx].innerText = sampleText();
      idx++;
    }, 150);
  }

  function sampleText() {
    const samples = [
      "John Doe", "₦2,500", "Pending", "Completed",
      "12/10/2025", "Product A", "Client Z", "Mary Ltd",
      "Profit ↑", "Expense ↓", "New Order", "Paid ✅"
    ];
    return samples[Math.floor(Math.random() * samples.length)];
  }

  function finishDemo() {
    const demoOverlay = document.getElementById("demoOverlay");
    demoOverlay.innerHTML = `
      <div class="demoBox fade-in end">
        <h2>🚪 Gate Time!</h2>
        <p>This could be <b>you</b> — but first, unlock full access 😄</p>
        <p class="demoTip">Just $1 or ₦1000 — cheaper than coffee ☕</p>
        <button id="unlockNow" class="btn">Unlock App</button>
      </div>
    `;
    demoOverlay.querySelector("#unlockNow").addEventListener("click", showPaywall);
  }

  function showPaywall() {
    document.getElementById("paywall").classList.remove("hidden");
    document.getElementById("demoOverlay").remove();
  }
  </script>
</body>
</html>
